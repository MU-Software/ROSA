<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="http://localhost:28000/static/mvp.css">
  <meta name="viewport" content="width=device-width,
                                 height=device-height,
                                 target-densitydpi=device-dpi,
                                 initial-scale=1.0,
                                 minimum-scale=1.0,
                                 maximum-scale=1.0,
                                 user-scalable=0,
                                 user-scalable=no,
                                 shrink-to-fit=no" />
  <script src="http://localhost:28000/static/babel.min.js" crossorigin></script>
  <script src="http://localhost:28000/static/require.min.js"></script>
  <script>
    require.config({
      paths: {
        react: "http://localhost:28000/static/react.development",
        "react-dom": "http://localhost:28000/static/react-dom.development",
        "qrcode": "http://localhost:28000/static/qrcode",
      },
    });
  </script>
  <script type="text/babel" data-presets="env,react,typescript,flow" data-type="module">
    window.onload = () => {
      require(
        ["react", "react-dom", "qrcode"],
        (React, ReactDOM) => {
          const SideBarSize = 144
          const RowStyle = {
            display: 'flex',
            flexDirection: 'row',
            alignItems: 'center',
            justifyContent: 'space-between',
            width: 'calc(100% - 2 * 1rem)',
            padding: '0 1rem',
            fontSize: '1.75rem',
            margin: '0',
            lineHeight: 0.9,
            fontWeight: 'bold',
            flexGrow: 1,
          }
          const QR = ({ data }) => <div
            style={{ width: 'fit-content', height: 'fit-content' }}
            ref={ref => new QRCode(ref, { text: data, width: SideBarSize, height: SideBarSize })}
          />
          const App = () => <div
            style={{
              display: 'flex',
              flexDirection: 'column',
              alignItems: 'center',
              justifyContent: 'space-between',
              width: '100%',
              height: '100%',
            }}
          >
            <div style={RowStyle}>
              <div style={{ flexGrow: 1 }}>{'"{{ user_name }}"'}</div>
              <div style={{ width: SideBarSize, height: SideBarSize, lineHeight: 'initial' }}>
                <svg x="0px" y="0px" width={`${SideBarSize}px`} height={`${SideBarSize}px`} viewBox="0 0 1 1">
                  <defs
                    id="defs1" />
                  <g id="g3" transform="matrix(-0.02727218,0,0,-0.02731942,1.0056867,1.0000002)">
                    <path fill="#000" d="M 36.205,13.578 C 34.934,8.837 31.905,4.898 27.683,2.486 23.454,0.021 18.521,-0.639 13.796,0.632 9.082,1.898 5.126,4.93 2.653,9.175 2.643,9.192 2.636,9.21 2.627,9.228 L 2.573,9.198 c -4.931,8.748 -1.9,20.001 6.766,25.091 2.807,1.568 5.882,2.315 8.934,2.315 6.386,-0.002 12.665,-3.267 16.153,-9.078 0.018,-0.031 0.032,-0.066 0.05,-0.098 l 0.031,0.017 c 2.454,-4.213 2.967,-9.136 1.698,-13.867 z M 10.036,33.071 C 4.082,29.574 1.009,22.917 1.706,16.405 c 0.5,1.827 1.544,3.494 3.044,4.744 0.417,0.358 0.863,0.694 1.35,0.984 0.492,0.276 1,0.496 1.512,0.681 0.066,0.024 0.133,0.053 0.2,0.074 0.094,0.033 0.189,0.06 0.284,0.089 0.851,0.255 1.717,0.384 2.577,0.399 C 10.193,23.206 9.597,22.793 9.158,21.814 9.156,21.808 9.153,21.801 9.149,21.795 8.901,21.742 8.653,21.682 8.407,21.605 7.849,21.418 7.303,21.176 6.779,20.866 6.311,20.599 5.882,20.29 5.491,19.946 2.728,17.425 1.96,13.216 3.867,9.876 6.15,5.958 9.805,3.155 14.159,1.986 c 1.451,-0.39 2.923,-0.582 4.385,-0.582 2.933,0 5.829,0.776 8.438,2.296 3.9,2.228 6.694,5.865 7.869,10.241 0.563,2.098 0.715,4.239 0.472,6.327 -0.091,-0.329 -0.202,-0.652 -0.328,-0.972 -0.734,-1.951 -2.099,-3.677 -4.01,-4.818 -1.431,-0.792 -2.978,-1.186 -4.509,-1.228 0.005,0.002 0.011,0.005 0.017,0.007 0.472,0.19 1.033,0.618 1.449,1.565 0.005,0.009 0.009,0.02 0.013,0.031 0.772,0.171 1.533,0.455 2.259,0.862 3.859,2.266 5.203,7.251 3.003,11.101 -4.763,7.935 -15.166,10.736 -23.181,6.255 z" />
                    <path fill="#000" d="m 19.055,8.762 c -4.51,0 -5.186,1.247 -5.186,1.922 v 2.386 h 4.76 v 0.676 h -7.034 c 0,0 -2.593,-0.179 -2.593,4.378 0,4.555 1.778,4.912 2.309,4.912 H 13.23 V 20.65 c 0,0 -0.285,-2.633 2.7,-2.633 h 4.725 c 0,0 2.591,0.392 2.591,-2.17 v -4.879 c 0,0 0.32,-2.206 -4.191,-2.206 M 15.93,11.93 c -0.491,0 -0.889,-0.399 -0.889,-0.89 0,-0.49 0.397,-0.889 0.889,-0.889 0.49,0 0.887,0.399 0.887,0.889 0,0.491 -0.398,0.89 -0.887,0.89" />
                    <path fill="#000" d="m 25.773,13.567 h -1.918 v 2.385 c 0,0 0.284,2.635 -2.7,2.635 h -4.724 c 0,0 -2.592,-0.392 -2.592,2.172 v 4.876 c 0,0 -0.321,2.206 4.191,2.206 4.511,0 5.186,-1.246 5.186,-1.922 v -2.384 h -4.76 v -0.678 h 7.034 c 0,0 2.593,0.179 2.593,-4.378 0,-4.557 -1.779,-4.912 -2.31,-4.912 m -4.517,11.355 c 0.491,0 0.89,0.398 0.89,0.891 0,0.49 -0.399,0.89 -0.89,0.89 -0.489,0 -0.888,-0.399 -0.888,-0.89 0,-0.493 0.399,-0.891 0.888,-0.891" />
                  </g>
                </svg>
              </div>
            </div>
            <div style={{...RowStyle, color: '#000', backgroundColor: '#fff'}}>
              <div style={{ flexGrow: 1 }}>자원봉사자</div>
              <div
                style={{ width: 'fit-content', height: 'fit-content' }}
                ref={ref => new QRCode(ref, { text: '"{{ qrcode_data }}"', width: SideBarSize, height: SideBarSize })}
              />
            </div>
          </div>
          ReactDOM.createRoot(document.getElementById('root')).render(<App />)
        }
      )
    }
    // ==================================================

    // ==================================================
  </script>
  <style>
    :root {
      --label-width: "{{ width }}"px;
      --label-height: "{{ height }}"px;
    }

    * {
      text-align: center;
    }

    html {
      font-size: 42pt;
    }

    #container {
      width: var(--label-width);
      min-width: var(--label-width);
      max-width: var(--label-width);
      height: var(--label-height);
      min-height: var(--label-height);
      max-height: var(--label-height);
      outline: 1px solid black;
    }

    #root {
      width: 100%;
      height: 100%;
      line-height: initial;
    }
  </style>
</head>

<body>
  <div id="container">
    <div id="root"></div>
  </div>
  <noscript>This app needs javascript enabled in order to run.</noscript>
</body>

</html>
